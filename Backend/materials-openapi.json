{"openapi":"3.1.0","info":{"title":"FastAPI","version":"0.1.0"},"paths":{"/api/materials/":{"get":{"summary":"Retrieve all courses information.","description":"Returns a list of all available courses with their details","operationId":"get_all_api_materials__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/Course"},"type":"array","title":"Response Get All Api Materials  Get"}}}},"201":{"description":"Course created successfully"},"401":{"description":"Unauthorized access"},"403":{"description":"Forbidden"}}},"put":{"summary":"Create a new course","description":"Creates a course with a unique code, evaluation method, and optional materials.","operationId":"create_api_materials__put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CourseCreateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"201":{"description":"Course created successfully"},"400":{"description":"Invalid evaluation formula (does not sum to 100)"},"409":{"description":"Course with the given code already exists"},"401":{"description":"Unauthorized access"},"403":{"description":"Forbidden"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/materials/class/{code}":{"get":{"summary":"Retrieve a specific course by its code","description":"Fetch the details of a course using its unique code.","operationId":"get_by_code_api_materials_class__code__get","parameters":[{"name":"code","in":"path","required":true,"schema":{"type":"string","title":"Code"}}],"responses":{"200":{"description":"Course details retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Course"}}}},"401":{"description":"Unauthorized access"},"403":{"description":"Forbidden"},"404":{"description":"Course not found"},"416":{"description":"Invalid course code"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/materials/{code}/course":{"post":{"summary":"Add materials to a course","description":"Adds a list of materials to the specified course.","operationId":"add_course_materials_api_materials__code__course_post","parameters":[{"name":"code","in":"path","required":true,"schema":{"type":"string","title":"Code"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Material"},"title":"Materials"}}}},"responses":{"200":{"description":"Materials added successfully","content":{"application/json":{"schema":{}}}},"404":{"description":"Course not found"},"416":{"description":"Invalid course code"},"401":{"description":"Unauthorized access"},"403":{"description":"Forbidden"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"summary":"Retrieve courses","description":"Get all courses from a specified class","operationId":"get_courses_api_materials__code__course_get","parameters":[{"name":"code","in":"path","required":true,"schema":{"type":"string","title":"Code"}}],"responses":{"200":{"description":"Courses retrieved successfully","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Material"},"title":"Response Get Courses Api Materials  Code  Course Get"}}}},"404":{"description":"Course not found"},"416":{"description":"Parameter length not exceeded the limits"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/materials/{code}/{course_number}/upload-course":{"post":{"summary":"Upload course document file.","description":"Add a file to a specified course.","operationId":"upload_course_file_api_materials__code___course_number__upload_course_post","parameters":[{"name":"code","in":"path","required":true,"schema":{"type":"string","title":"Code"}},{"name":"course_number","in":"path","required":true,"schema":{"type":"integer","title":"Course Number"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_course_file_api_materials__code___course_number__upload_course_post"}}}},"responses":{"200":{"description":"File uploaded successfully","content":{"application/json":{"schema":{}}}},"404":{"description":"Course not found"},"413":{"description":"File dimension is too big"},"416":{"description":"Parameter length not exceeded the limits"},"422":{"description":"File extension is not valid"}}}},"/api/materials/{code}/lab":{"post":{"summary":"Add lab materials","description":"Add a list of lab materials (files not included)","operationId":"add_lab_materials_api_materials__code__lab_post","parameters":[{"name":"code","in":"path","required":true,"schema":{"type":"string","title":"Code"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Material"},"title":"Materials"}}}},"responses":{"200":{"description":"Materials uploaded successfully","content":{"application/json":{"schema":{}}}},"404":{"description":"Course not found"},"416":{"description":"Parameter length not exceeded the limits"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"summary":"Retrieve labs","description":"Get all labs from a specified class","operationId":"get_labs_api_materials__code__lab_get","parameters":[{"name":"code","in":"path","required":true,"schema":{"type":"string","title":"Code"}}],"responses":{"200":{"description":"Labs retrieved successfully","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Material"},"title":"Response Get Labs Api Materials  Code  Lab Get"}}}},"404":{"description":"Course not found"},"416":{"description":"Parameter length not exceeded the limits"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/materials/{code}/{course_number}/course":{"delete":{"summary":"Delete course materials","description":"Delete course materials from a specified course","operationId":"remove_course_material_api_materials__code___course_number__course_delete","parameters":[{"name":"code","in":"path","required":true,"schema":{"type":"string","title":"Code"}},{"name":"course_number","in":"path","required":true,"schema":{"type":"integer","title":"Course Number"}}],"responses":{"200":{"description":"Removed successfully","content":{"application/json":{"schema":{}}}},"404":{"description":"Course not found"},"416":{"description":"Parameter length not exceeded the limits"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/materials/{code}/{lab_number}/lab":{"delete":{"summary":"Delete lab materials","description":"Delete lab materials from a specified lab","operationId":"remove_lab_material_api_materials__code___lab_number__lab_delete","parameters":[{"name":"code","in":"path","required":true,"schema":{"type":"string","title":"Code"}},{"name":"lab_number","in":"path","required":true,"schema":{"type":"integer","title":"Lab Number"}}],"responses":{"200":{"description":"Removed successfully","content":{"application/json":{"schema":{}}}},"404":{"description":"Course not found"},"416":{"description":"Parameter length not exceeded the limits"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/materials/{code}":{"delete":{"summary":"Delete a class","description":"Delete all data from a class included courses and labs","operationId":"remove_by_code_api_materials__code__delete","parameters":[{"name":"code","in":"path","required":true,"schema":{"type":"string","title":"Code"}}],"responses":{"200":{"description":"Course deleted successfully","content":{"application/json":{"schema":{}}}},"404":{"description":"Course not found"},"416":{"description":"Parameter length not exceeded the limits"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/materials/{code}/evaluation":{"get":{"summary":"Retrieve evaluation formula","description":"Retrieve evaluation formula of a specified class","operationId":"get_evaluation_formula_api_materials__code__evaluation_get","parameters":[{"name":"code","in":"path","required":true,"schema":{"type":"string","title":"Code"}}],"responses":{"200":{"description":"Evaluation retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Evaluation"}}}},"404":{"description":"Course not found"},"416":{"description":"Parameter length not exceeded the limits"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"summary":"Update evaluation","description":"Update evaluation method to a specified course","operationId":"update_evaluation_api_materials__code__evaluation_post","parameters":[{"name":"code","in":"path","required":true,"schema":{"type":"string","title":"Code"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Evaluation"},"title":"Evaluation"}}}},"responses":{"200":{"description":"Evaluation updated successfully","content":{"application/json":{"schema":{}}}},"404":{"description":"Course not found"},"416":{"description":"Parameter length not exceeded the limits"},"422":{"description":"Formula is unprocessable"}}}},"/api/materials/{code}/courses/{course_number}":{"get":{"summary":"Retrieve course file","description":"Retrieve a file from a specified course","operationId":"get_course_file_api_materials__code__courses__course_number__get","parameters":[{"name":"code","in":"path","required":true,"schema":{"type":"string","title":"Code"}},{"name":"course_number","in":"path","required":true,"schema":{"type":"integer","title":"Course Number"}}],"responses":{"200":{"description":"File retrieved successfully","content":{"application/json":{"schema":{}}}},"404":{"description":"Course or file not found"},"416":{"description":"Parameter length not exceeded the limits"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/materials/links":{"get":{"summary":"Get Allowed Links","description":"Get the list of allowed links for the user based on their role.","operationId":"get_allowed_links_api_materials_links_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"additionalProperties":{"type":"string"},"type":"object"},"type":"array","title":"Response Get Allowed Links Api Materials Links Get"}}}}}}}},"components":{"schemas":{"Body_upload_course_file_api_materials__code___course_number__upload_course_post":{"properties":{"course_file":{"type":"string","format":"binary","title":"Course File"}},"type":"object","required":["course_file"],"title":"Body_upload_course_file_api_materials__code___course_number__upload_course_post"},"Course":{"properties":{"code":{"type":"string","title":"Code"},"evaluation":{"items":{"$ref":"#/components/schemas/Evaluation"},"type":"array","title":"Evaluation"},"course":{"anyOf":[{"items":{"$ref":"#/components/schemas/Material"},"type":"array"},{"type":"null"}],"title":"Course","default":[{"number":0,"file":"string"}]},"lab":{"anyOf":[{"items":{"$ref":"#/components/schemas/Material"},"type":"array"},{"type":"null"}],"title":"Lab","default":[{"number":0,"file":"string"}]}},"type":"object","required":["code","evaluation"],"title":"Course"},"CourseCreateRequest":{"properties":{"code":{"type":"string","title":"Code"},"evaluation":{"items":{"$ref":"#/components/schemas/Evaluation"},"type":"array","title":"Evaluation"}},"type":"object","required":["code","evaluation"],"title":"CourseCreateRequest"},"Evaluation":{"properties":{"type":{"type":"string","title":"Type"},"weight":{"type":"integer","title":"Weight"}},"type":"object","required":["type","weight"],"title":"Evaluation"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"Material":{"properties":{"number":{"type":"integer","title":"Number"},"file":{"type":"string","title":"File"}},"type":"object","required":["number","file"],"title":"Material"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}